{"version":3,"file":"862.index.js","mappings":";;;;;;;;;;AAAA,sCAAyB;AACzB,wCAA6B;AAC7B,gDAAmC;AAEnC,MAAM,YAAY,GAAG,MAAM,CAAC;AAE5B,SAAS,YAAY,CAAC,QAAgB;IACpC,MAAM,IAAI,GAAG,EAAE,CAAC,YAAY,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IAC/C,IAAI,OAAO,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,WAAW,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE;QACxE,OAAO,oBAAS,CAAC,IAAI,CAAC,CAAC;KACxB;IACD,OAAO,IAAI,CAAC;AACd,CAAC;AAEc,KAAK,UAAU,IAAI,CAAC,IAAuB;IACxD,IAAI,CAAC,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,OAAO,IAAI,KAAK,QAAQ,IAAI,IAAI,KAAK,MAAM,EAAE;QACzE,IAAI,GAAG,YAAY,CAAC;KACrB;IAED,+CAA+C;IAC/C,iDAAiD;IACjD,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;IAErC,IAAI;QACF,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAC3B,SAAS,EACT,yBAAyB,EAAE,0DAA0D;QACrF,IAAI,KAAK,YAAY,CAAC,CAAC,CAAC,GAAG,YAAY,MAAM,CAAC,CAAC,CAAC,QAAQ,IAAI,MAAM,CACnE,CAAC;QACF,OAAO,YAAY,CAAC,QAAQ,CAAC,CAAC;KAC/B;IAAC,OAAO,KAAK,EAAE;QACd,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAC3B,SAAS,EACT,yBAAyB,EACzB,GAAG,YAAY,MAAM,CACtB,CAAC;QACF,OAAO,YAAY,CAAC,QAAQ,CAAC,CAAC;KAC/B;AACH,CAAC;AAxBD,uBAwBC","sources":["webpack://snyk/./src/cli/commands/help.ts"],"sourcesContent":["import * as fs from 'fs';\nimport * as path from 'path';\nimport stripAnsi from 'strip-ansi';\n\nconst DEFAULT_HELP = 'snyk';\n\nfunction readHelpFile(filename: string): string {\n  const file = fs.readFileSync(filename, 'utf8');\n  if (typeof process.env.NO_COLOR !== 'undefined' || !process.stdout.isTTY) {\n    return stripAnsi(file);\n  }\n  return file;\n}\n\nexport default async function help(item?: string | boolean) {\n  if (!item || item === true || typeof item !== 'string' || item === 'help') {\n    item = DEFAULT_HELP;\n  }\n\n  // cleanse the filename to only contain letters\n  // aka: /\\W/g but figured this was easier to read\n  item = item.replace(/[^a-z-]/gi, '');\n\n  try {\n    const filename = path.resolve(\n      __dirname,\n      '../../help/commands-txt', // this is a relative path from the webpack dist directory\n      item === DEFAULT_HELP ? `${DEFAULT_HELP}.txt` : `snyk-${item}.txt`,\n    );\n    return readHelpFile(filename);\n  } catch (error) {\n    const filename = path.resolve(\n      __dirname,\n      '../../help/commands-txt',\n      `${DEFAULT_HELP}.txt`,\n    );\n    return readHelpFile(filename);\n  }\n}\n"],"names":[],"sourceRoot":""}